random c stuff
formatting based on linux kernel
